class VideosLoader{constructor(e){this.videos=void 0,this.setupVideo=this.setupVideo.bind(this),this.createIframe=this.createIframe.bind(this),this.generateURL=this.generateURL.bind(this),this.generateThumbnail=this.generateThumbnail.bind(this)}init(){this.videos=document.querySelectorAll(".video"),this.videos.forEach(e=>{this.setupVideo(e)})}setupVideo(e){const t=e.querySelector(".video__media").dataset.url;if(!t)throw new Error("No video's link specified");const i=t.split("/")[3],s=e.querySelector(".video__button"),r=e.querySelector(".video__media");r.getAttribute("src")||this.generateThumbnail(i,r),e.addEventListener("click",()=>{const t=this.createIframe(i);s.remove(),r.remove(),e.appendChild(t)})}generateThumbnail(e,t){const i="https://img.youtube.com/vi/"+e+"/maxresdefault.jpg";t.setAttribute("src",i)}createIframe(e){const t=document.createElement("iframe");return t.setAttribute("allowfullscreen",""),t.setAttribute("allow","autoplay"),t.setAttribute("src",this.generateURL(e)),t.classList.add("video__media"),t}generateURL(e){return"https://www.youtube.com/embed/"+e+"?rel=0&showinfo=0&autoplay=1"}}export default VideosLoader;